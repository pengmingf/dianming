<!DOCTYPE html>
<html>
<head>
	<title>注册页面</title>
	{load href="/static/css/bootstrap.min.css" /}
	{load href="/static/js/jquery-3.3.1.min.js" /}
	{load href="/static/js/bootstrap.min.js" /}

	
</head>
<body>
	<form class="form-horizontal" method="post" id="form">
  <div class="form-group">
    <label for="inputEmail1" class="col-sm-2 control-label">用户名:</label>
    <div class="col-sm-10">
      <input type="text" name="name" class="form-control" id="inputEmail1" placeholder="用户名">
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail2" class="col-sm-2 control-label">学号:</label>
    <div class="col-sm-10">
      <input type="text" name="studentid" class="form-control" id="inputEmail2" placeholder="学号">
    </div>
  </div>

  <div class="form-group">
    <label for="inputEmail3" class="col-sm-2 control-label">手机:</label>
    <div class="col-sm-10">
      <input type="text" name="phone" class="form-control" id="inputEmail3" placeholder="手机">
    </div>
  </div>

  <div class="form-group">
    <label for="inputPassword4" class="col-sm-2 control-label">密码:</label>
    <div class="col-sm-10">
      <input type="password" name="password" class="form-control" id="inputPassword4" placeholder="密码">
    </div>
  </div>

  <div class="form-group">
    <label for="inputPassword5" class="col-sm-2 control-label">确认密码:</label>
    <div class="col-sm-10">
      <input type="password" name="password_confirm" class="form-control" id="inputPassword5" placeholder="确认密码">
    </div>
  </div>
  
  <div class="form-group">
    <div class="col-sm-offset-2 col-sm-10">
      <button type="button" class="btn btn-primary" id="register">注册</button>
    </div>
  </div>
</form>

<script type="text/javascript">
	$(function(){
		$('#register').on('click',function(){
			$.ajax({
				type : 'post',
				url : "{:url('insert')}",
				data : $('#form').serialize(),
				dataType : 'json',
				success: function(data){
					switch(data.status)
					{
						case 1:
							alert(data.message);
							window.location.href = "{:url('index/index/login')}";
							break;
						case 0:
						case -1:
                        case -2:
							alert(data.message);
							window.location.back();
							break;
					}
				}
			})
		})
	})
</script>

 
</body>
</html>